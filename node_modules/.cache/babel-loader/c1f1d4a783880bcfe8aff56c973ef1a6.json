{"ast":null,"code":"import _classCallCheck from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import\"./Events.css\";import{Route,NavLink,HashRouter}from\"react-router-dom\";var Events=/*#__PURE__*/function(_Component){_inherits(Events,_Component);var _super=_createSuper(Events);function Events(){var _this;_classCallCheck(this,Events);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={page:0,data:[]};_this.renderEvents=function(e,idx){return/*#__PURE__*/React.createElement(\"div\",{className:\"event\",key:idx},/*#__PURE__*/React.createElement(\"div\",{className:\"container-event-img\"},/*#__PURE__*/React.createElement(\"a\",{href:e.url},/*#__PURE__*/React.createElement(\"img\",{className:\"event-img\",src:e.images[0].url,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"event-info\"},/*#__PURE__*/React.createElement(\"p\",{className:\"date-format\"},\"\".concat(_this.convertDate(e.dates.start.localDate),\" \").concat(_this.convertTime(e.dates.start.localTime))),/*#__PURE__*/React.createElement(\"h3\",null,e.name),/*#__PURE__*/React.createElement(\"p\",null,e._embedded.venues[0].name)));};_this.convertTime=function(time){var h=time.slice(0,2);var m=time.slice(3,5);var newTime=h>12?h-12+\":\"+m+\" PM\":h+\":\"+m+\" AM\";return newTime;};_this.convertDate=function(date){var newDate=new Date(date);var dayOfTheWeek=newDate.toDateString().split(\" \").slice(0,1);var dayAndMonth=newDate.toDateString().split(\" \").slice(1,3).join(\" \");var year=newDate.toDateString().split(\" \").slice(-1);return\"\".concat(dayOfTheWeek,\", \").concat(dayAndMonth,\", \").concat(year);};_this.getUnique=function(array,name){var unique=array.map(function(e){return e[name];}).map(function(e,i,final){return final.indexOf(e)===i&&i;}).filter(function(e){return array[e];}).map(function(e){return array[e];});return unique;};_this.getNextPage=function(){if(_this.state.page<26){var count=_this.state.page+1;_this.setState({page:count});}else{return;}};_this.getPreviousPage=function(){if(_this.state.page>0){var count=_this.state.page-1;_this.setState({page:count});}else{return;}};return _this;}_createClass(Events,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:8888/getEvents?page=\".concat(this.state.page)).then(function(res){return _this2.setState({data:_this2.getUnique(res.data._embedded.events,\"name\")});});}//   `https://app.ticketmaster.com/discovery/v2/events.json?city=melbourne&page=0&size=20&apikey=ARzROEpcmT85JLMu1NVGUCSSgS8LQDGd`\n//   async fetchData() {\n//     axios\n//       .get(\n//         `http://localhost:8888/getEvents`\n//       )\n//       .then((res) =>\n//         this.setState({\n//           data: this.getUnique(res.data._embedded.events, \"name\"),\n//         })\n//       );\n//   }\n//   async fetchData() {\n//     try {\n//       let res = await fetch(\"getEvents\", {\n//         method: \"get\",\n//       });\n//       let result = await res.json();\n//       this.setState({\n//         data: [result._embedded.events, ...this.state.ingredients],\n//       });\n//     } catch (e) {\n//       console.log(e);\n//     }\n//   }\n},{key:\"render\",value:function render(){var _this3=this;var data=this.state.data;if(data.length!==0){return/*#__PURE__*/React.createElement(\"div\",{className:\"events\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Events\"),/*#__PURE__*/React.createElement(\"section\",null,data.map(this.renderEvents))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.getNextPage();}},\"+\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.getPreviousPage();}},\"-\"));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Events\"));}}}]);return Events;}(Component);export default Events;","map":{"version":3,"sources":["/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app/frontend/src/components/events/Events.js"],"names":["React","Component","axios","Route","NavLink","HashRouter","Events","state","page","data","renderEvents","e","idx","url","images","convertDate","dates","start","localDate","convertTime","localTime","name","_embedded","venues","time","h","slice","m","newTime","date","newDate","Date","dayOfTheWeek","toDateString","split","dayAndMonth","join","year","getUnique","array","unique","map","i","final","indexOf","filter","getNextPage","count","setState","getPreviousPage","get","then","res","events","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Events.css\";\nimport { Route, NavLink, HashRouter } from \"react-router-dom\";\n\nclass Events extends Component {\n  state = {\n    page: 0,\n    data: [],\n  };\n\n  componentDidMount() {\n    axios\n      .get(`http://localhost:8888/getEvents?page=${this.state.page}`)\n      .then((res) =>\n        this.setState({\n          data: this.getUnique(res.data._embedded.events, \"name\"),\n        })\n      );\n  }\n  //   `https://app.ticketmaster.com/discovery/v2/events.json?city=melbourne&page=0&size=20&apikey=ARzROEpcmT85JLMu1NVGUCSSgS8LQDGd`\n\n  //   async fetchData() {\n  //     axios\n  //       .get(\n  //         `http://localhost:8888/getEvents`\n  //       )\n  //       .then((res) =>\n  //         this.setState({\n  //           data: this.getUnique(res.data._embedded.events, \"name\"),\n  //         })\n  //       );\n  //   }\n\n  //   async fetchData() {\n  //     try {\n  //       let res = await fetch(\"getEvents\", {\n  //         method: \"get\",\n  //       });\n\n  //       let result = await res.json();\n  //       this.setState({\n  //         data: [result._embedded.events, ...this.state.ingredients],\n  //       });\n  //     } catch (e) {\n  //       console.log(e);\n  //     }\n  //   }\n\n  renderEvents = (e, idx) => {\n    return (\n      <div className=\"event\" key={idx}>\n        <div className=\"container-event-img\">\n          <a href={e.url}>\n            <img className=\"event-img\" src={e.images[0].url} alt=\"\" />\n          </a>\n        </div>\n        <div className=\"event-info\">\n          <p className=\"date-format\">\n            {`${this.convertDate(e.dates.start.localDate)} ${this.convertTime(\n              e.dates.start.localTime\n            )}`}\n          </p>\n          <h3>{e.name}</h3>\n          <p>{e._embedded.venues[0].name}</p>\n        </div>\n      </div>\n    );\n  };\n\n  convertTime = (time) => {\n    let h = time.slice(0, 2);\n    let m = time.slice(3, 5);\n    let newTime = h > 12 ? h - 12 + \":\" + m + \" PM\" : h + \":\" + m + \" AM\";\n    return newTime;\n  };\n\n  convertDate = (date) => {\n    let newDate = new Date(date);\n    let dayOfTheWeek = newDate.toDateString().split(\" \").slice(0, 1);\n    let dayAndMonth = newDate.toDateString().split(\" \").slice(1, 3).join(\" \");\n    let year = newDate.toDateString().split(\" \").slice(-1);\n    return `${dayOfTheWeek}, ${dayAndMonth}, ${year}`;\n  };\n\n  getUnique = (array, name) => {\n    const unique = array\n      .map((e) => e[name])\n      .map((e, i, final) => final.indexOf(e) === i && i)\n      .filter((e) => array[e])\n      .map((e) => array[e]);\n    return unique;\n  };\n\n  getNextPage = () => {\n    if (this.state.page < 26) {\n      let count = this.state.page + 1;\n      this.setState({\n        page: count,\n      });\n    } else {\n      return;\n    }\n  };\n\n  getPreviousPage = () => {\n    if (this.state.page > 0) {\n      let count = this.state.page - 1;\n      this.setState({\n        page: count,\n      });\n    } else {\n      return;\n    }\n  };\n\n  render() {\n    const { data } = this.state;\n    if (data.length !== 0) {\n      return (\n        <div className=\"events\">\n          <div>\n            <h2>Events</h2>\n            <section>{data.map(this.renderEvents)}</section>\n          </div>\n          <button onClick={() => this.getNextPage()}>+</button>\n          <button onClick={() => this.getPreviousPage()}>-</button>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <h2>Events</h2>\n          {/* <button onClick={() => this.fetchData()}>Check for Events</button> */}\n        </div>\n      );\n    }\n  }\n}\n\nexport default Events;\n"]},"metadata":{},"sourceType":"module"}