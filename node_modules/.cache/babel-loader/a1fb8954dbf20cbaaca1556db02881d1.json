{"ast":null,"code":"import _classCallCheck from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app-original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app-original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app-original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app-original/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import\"./Events.css\";import{Route,NavLink,HashRouter}from\"react-router-dom\";var Events=/*#__PURE__*/function(_Component){_inherits(Events,_Component);var _super=_createSuper(Events);function Events(){var _this;_classCallCheck(this,Events);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={page:0,totalPages:0,data:[]};_this.renderEvents=function(e,idx){return/*#__PURE__*/React.createElement(\"div\",{className:\"event\",key:idx},/*#__PURE__*/React.createElement(\"div\",{className:\"container-event-img\"},/*#__PURE__*/React.createElement(\"a\",{href:e.url},/*#__PURE__*/React.createElement(\"img\",{className:\"event-img\",src:e.images[0].url,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"event-info\"},/*#__PURE__*/React.createElement(\"p\",{className:\"date-format\"},\"\".concat(_this.convertDate(e.dates.start.localDate),\" \").concat(_this.convertTime(e.dates.start.localTime))),/*#__PURE__*/React.createElement(\"h3\",null,e.name),/*#__PURE__*/React.createElement(\"p\",null,e._embedded.venues[0].name)));};_this.convertTime=function(time){var h=time.slice(0,2);var m=time.slice(3,5);var newTime=h>12?h-12+\":\"+m+\" PM\":h+\":\"+m+\" AM\";return newTime;};_this.convertDate=function(date){var newDate=new Date(date);var dayOfTheWeek=newDate.toDateString().split(\" \").slice(0,1);var dayAndMonth=newDate.toDateString().split(\" \").slice(1,3).join(\" \");var year=newDate.toDateString().split(\" \").slice(-1);return\"\".concat(dayOfTheWeek,\", \").concat(dayAndMonth,\", \").concat(year);};_this.getUnique=function(array,name){var unique=array.map(function(e){return e[name];}).map(function(e,i,final){return final.indexOf(e)===i&&i;}).filter(function(e){return array[e];}).map(function(e){return array[e];});return unique;};_this.getNextPage=function(){if(_this.state.page<_this.state.totalPages){var count=_this.state.page+1;_this.setState({page:count});_this.getNewEvents();}else{return;}};_this.getPreviousPage=function(){if(_this.state.page>0){var count=_this.state.page-1;_this.setState({page:count});_this.getNewEvents();}else{return;}};_this.getNewEvents=function(){axios.get(\"http://localhost:8888/getEvents?page=\".concat(_this.state.page)).then(function(res){_this.setState({data:_this.getUnique(res.data._embedded.events,\"name\")});});};return _this;}_createClass(Events,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:8888/getEvents?page=\".concat(this.state.page)).then(function(res){return _this2.setState({data:_this2.getUnique(res.data._embedded.events,\"name\"),totalPages:res.data.page.totalPages});});}},{key:\"render\",value:function render(){var _this3=this;var data=this.state.data;if(data.length!==0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"whatsup\"},\"what's \",/*#__PURE__*/React.createElement(\"span\",{className:\"up\"},\"up!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"events\"},/*#__PURE__*/React.createElement(\"div\",{className:\"events-banner\"},/*#__PURE__*/React.createElement(\"section\",null,data.map(this.renderEvents)),/*#__PURE__*/React.createElement(\"h2\",null,\"Events\"),/*#__PURE__*/React.createElement(\"button\",{className:\"roll-pages\",onClick:function onClick(){return _this3.getPreviousPage();}},\"-\"),/*#__PURE__*/React.createElement(\"button\",{className:\"roll-pages\",onClick:function onClick(){return _this3.getNextPage();}},\"+\"))));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Events\"));}}}]);return Events;}(Component);export default Events;","map":{"version":3,"sources":["/Users/Phillipe/sei/code-alongs/cc-3-login/culture-club-app-original/frontend/src/components/events/Events.js"],"names":["React","Component","axios","Route","NavLink","HashRouter","Events","state","page","totalPages","data","renderEvents","e","idx","url","images","convertDate","dates","start","localDate","convertTime","localTime","name","_embedded","venues","time","h","slice","m","newTime","date","newDate","Date","dayOfTheWeek","toDateString","split","dayAndMonth","join","year","getUnique","array","unique","map","i","final","indexOf","filter","getNextPage","count","setState","getNewEvents","getPreviousPage","get","then","res","events","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./Events.css\";\nimport { Route, NavLink, HashRouter } from \"react-router-dom\";\n\nclass Events extends Component {\n  state = {\n    page: 0,\n    totalPages: 0,\n    data: [],\n  };\n\n  componentDidMount() {\n    axios\n      .get(`http://localhost:8888/getEvents?page=${this.state.page}`)\n      .then((res) =>\n        this.setState({\n          data: this.getUnique(res.data._embedded.events, \"name\"),\n          totalPages: res.data.page.totalPages,\n        })\n      );\n  }\n\n  renderEvents = (e, idx) => {\n    return (\n      <div className=\"event\" key={idx}>\n        <div className=\"container-event-img\">\n          <a href={e.url}>\n            <img className=\"event-img\" src={e.images[0].url} alt=\"\" />\n          </a>\n        </div>\n        <div className=\"event-info\">\n          <p className=\"date-format\">\n            {`${this.convertDate(e.dates.start.localDate)} ${this.convertTime(\n              e.dates.start.localTime\n            )}`}\n          </p>\n          <h3>{e.name}</h3>\n          <p>{e._embedded.venues[0].name}</p>\n        </div>\n      </div>\n    );\n  };\n\n  convertTime = (time) => {\n    let h = time.slice(0, 2);\n    let m = time.slice(3, 5);\n    let newTime = h > 12 ? h - 12 + \":\" + m + \" PM\" : h + \":\" + m + \" AM\";\n    return newTime;\n  };\n\n  convertDate = (date) => {\n    let newDate = new Date(date);\n    let dayOfTheWeek = newDate.toDateString().split(\" \").slice(0, 1);\n    let dayAndMonth = newDate.toDateString().split(\" \").slice(1, 3).join(\" \");\n    let year = newDate.toDateString().split(\" \").slice(-1);\n    return `${dayOfTheWeek}, ${dayAndMonth}, ${year}`;\n  };\n\n  getUnique = (array, name) => {\n    const unique = array\n      .map((e) => e[name])\n      .map((e, i, final) => final.indexOf(e) === i && i)\n      .filter((e) => array[e])\n      .map((e) => array[e]);\n    return unique;\n  };\n\n  getNextPage = () => {\n    if (this.state.page < this.state.totalPages) {\n      let count = this.state.page + 1;\n      this.setState({\n        page: count,\n      });\n      this.getNewEvents();\n    } else {\n      return;\n    }\n  };\n\n  getPreviousPage = () => {\n    if (this.state.page > 0) {\n      let count = this.state.page - 1;\n      this.setState({\n        page: count,\n      });\n      this.getNewEvents();\n    } else {\n      return;\n    }\n  };\n\n  getNewEvents = () => {\n    axios\n      .get(`http://localhost:8888/getEvents?page=${this.state.page}`)\n      .then((res) => {\n        this.setState({\n          data: this.getUnique(res.data._embedded.events, \"name\"),\n        });\n      });\n  };\n\n  render() {\n    const { data } = this.state;\n    if (data.length !== 0) {\n      return (\n        <div>\n          <h2 className=\"whatsup\">\n            what's <span className=\"up\">up!</span>\n          </h2>\n          <div className=\"events\">\n            <div className=\"events-banner\">\n              <section>{data.map(this.renderEvents)}</section>\n              <h2>Events</h2>\n              <button\n                className=\"roll-pages\"\n                onClick={() => this.getPreviousPage()}\n              >\n                -\n              </button>\n              <button className=\"roll-pages\" onClick={() => this.getNextPage()}>\n                +\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <h2>Events</h2>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Events;\n"]},"metadata":{},"sourceType":"module"}